---
description: Сохранять review-changes (diff) после каждого изменения кода в папку reviews
alwaysApply: true
---

# Сохранение review-changes после изменений кода

## Обязательный чек-лист перед завершением ответа

**Если в этой сессии ты вносил изменения в код или документацию проекта:**

1. **Перед** тем как написать итог пользователю («Готово», «Итог» и т.п.) — выполни сохранение ревью (п. 2 ниже).
2. Ответ с изменениями кода/док **без** сохранения артефактов в `reviews/` считается **незавершённым** — не пропускай этот шаг.

---

## Как сохранять

1. **Сохрани текущие изменения** в папку `reviews/` в двух видах:
   - **Markdown** (`reviews/YYYY-MM-DD-краткое-описание.md`): заголовок, дата, краткий контекст, блок с началом diff (```diff ... ```) и ссылка на полный .diff.
   - **Diff** (`reviews/YYYY-MM-DD-краткое-описание.diff`): полный вывод `git diff` в UTF-8.

2. **Имена**: дата + короткое описание, например `2026-02-21-phase2-run-id-errors-logging.md` / `.diff`.

3. **Получить diff** (PowerShell):  
   `git diff | Out-File -FilePath "reviews\имя.diff" -Encoding utf8`  
   В .md — заголовок, контекст, фрагмент diff и ссылка на этот .diff.

4. **Когда**: после завершения логического блока правок, **до** финального сообщения пользователю.

---
description: Сохранять review-changes (diff) после каждого изменения кода в папку reviews
alwaysApply: true
---

# Сохранение review-changes после изменений кода

После **каждого** изменения кода, которое делаешь в проекте:

1. **Сохрани текущие изменения** в папку `reviews/` в двух видах:
   - **Markdown-файл** (`reviews/YYYY-MM-DD-краткое-описание.md`): заголовок, дата, краткий контекст (что за правки/задача), блок с началом diff в формате ` ```diff ... ``` ` и ссылка на полный .diff.
   - **Файл diff** (`reviews/YYYY-MM-DD-краткое-описание.diff`): полный вывод `git diff` в кодировке UTF-8.

2. **Имена файлов**: использовать дату и короткое описание, например:
   - `phase1-exit-codes-summary-2026-02-21.md` / `.diff`
   - `phase1-review-fixes-2026-02-21.md` / `.diff`

3. **Как получить diff**: выполнить `git diff` и сохранить вывод в файл .diff (в PowerShell с UTF-8: `git diff | Out-File -FilePath "reviews\имя.diff" -Encoding utf8`). В .md вставить заголовок, контекст и ссылку на соответствующий .diff (или начало diff в блоке кода).

4. **Когда сохранять**: после завершения логического блока правок (например после всех правок по одному ревью или по одной задаче), перед завершением ответа пользователю.

Не пропускать этот шаг: это нужно для истории изменений и ревью.
